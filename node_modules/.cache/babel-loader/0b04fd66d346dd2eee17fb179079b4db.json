{"ast":null,"code":"export var signInAction = function signInAction(credentials) {\n  return function (dispatch, getState, _ref) {\n    var getFirebase = _ref.getFirebase;\n    var firebase = getFirebase(); // initializing firebase\n    // calling dispatch after passing credentials to firebase\n    // and loggin user in\n\n    firebase.auth().signInWithEmailAndPassword(credentials.email, credentials.password).then(function () {\n      dispatch({\n        type: 'LOGIN_SUCCESS'\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: 'LOGIN_ERROR',\n        err: err\n      });\n    });\n  };\n}; // logging user out\n\nexport var signOutAction = function signOutAction() {\n  return function (dispatch, getState, _ref2) {\n    var getFirebase = _ref2.getFirebase;\n    var firebase = getFirebase(); // initializing firebase\n    // dispatch is called from onclick on logout\n\n    firebase.auth().signOut().then(function () {\n      dispatch({\n        type: 'SIGNOUT_SUCCESS'\n      });\n    });\n  };\n}; // user signup storing user data into firebase\n\nexport var signUpAction = function signUpAction(newUser) {\n  return function (dispatch, getState, _ref3) {\n    var getFirebase = _ref3.getFirebase,\n        getFirestore = _ref3.getFirestore;\n    var firebase = getFirebase(); // initializing firebase\n\n    var firestore = getFirestore(); // creating new user passing user details\n\n    firebase.auth().createUserWithEmailAndPassword(newUser.email, newUser.password).then(function (resp) {\n      firestore.collection('users').doc(resp.user.uid).set({\n        firstName: newUser.firstName,\n        lastName: newUser.lastName,\n        initials: newUser.firstName[0] + newUser.lastName[0]\n      });\n    }).then(function () {\n      dispatch({\n        type: 'SIGNUP_SUCESS'\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: 'SIGNUP_ERROR',\n        err: err\n      });\n    });\n  };\n};\nexport var recoverEmail = function recoverEmail(email) {\n  return function (dispatch, getState, _ref4) {\n    var getFirebase = _ref4.getFirebase;\n    var firebase = getFirebase();\n    var auth = firebase.auth();\n    var emailId = email.email;\n    auth.sendPasswordResetEmail(emailId).then(function () {\n      console.log(\"link has been sent\");\n    }).catch(function (error) {\n      console.log(\"error\", error);\n    });\n  };\n};\nexport var signInWithGoogle = function signInWithGoogle() {\n  return function (dispatch, getState, _ref5) {\n    var getFirebase = _ref5.getFirebase,\n        getFirestore = _ref5.getFirestore;\n    var firebase = getFirebase();\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then(function (result) {\n      // const token = result.credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n      console.log(\"google: \", user); // ...\n    }).catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      console.log(\"google errorCode: \", errorCode);\n      var errorMessage = error.message;\n      console.log(\"google err: \", errorMessage); // The email of the user's account used.\n\n      var email = error.email;\n      console.log(\"google mail: \", email); // The firebase.auth.AuthCredential type that was used.\n\n      var credential = error.credential;\n      console.log(\"google cred: \", credential); // ...\n    });\n  };\n}; // export const googleSignIn = () => {\n//   return(dispath, getState, { getFirebase, getFirestore}) => {\n//\n//   }\n// }","map":{"version":3,"sources":["/home/madan/Documents/workspace/artwork/src/store/actions/AuthActions.js"],"names":["signInAction","credentials","dispatch","getState","getFirebase","firebase","auth","signInWithEmailAndPassword","email","password","then","type","catch","err","signOutAction","signOut","signUpAction","newUser","getFirestore","firestore","createUserWithEmailAndPassword","resp","collection","doc","user","uid","set","firstName","lastName","initials","recoverEmail","emailId","sendPasswordResetEmail","console","log","error","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","result","errorCode","code","errorMessage","message","credential"],"mappings":"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","sourcesContent":["export const signInAction = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    let firebase = getFirebase() // initializing firebase\n\n    // calling dispatch after passing credentials to firebase\n    // and loggin user in\n    firebase.auth().signInWithEmailAndPassword(\n      credentials.email,\n      credentials.password\n    ).then(() => {\n      dispatch({ type: 'LOGIN_SUCCESS' })\n    }).catch((err) => {\n      dispatch({ type: 'LOGIN_ERROR', err })\n    })\n  }\n}\n\n// logging user out\nexport const signOutAction = () => {\n  return(dispatch, getState, { getFirebase }) => {\n    let firebase = getFirebase() // initializing firebase\n\n    // dispatch is called from onclick on logout\n    firebase.auth().signOut().then(() => {\n      dispatch({ type: 'SIGNOUT_SUCCESS' })\n    })\n  }\n}\n\n// user signup storing user data into firebase\nexport const signUpAction = (newUser) => {\n  return(dispatch, getState, { getFirebase, getFirestore }) => {\n    let firebase = getFirebase() // initializing firebase\n    let firestore = getFirestore()\n\n    // creating new user passing user details\n    firebase.auth().createUserWithEmailAndPassword(\n      newUser.email,\n      newUser.password\n    ).then((resp) => {\n      firestore.collection('users').doc(resp.user.uid).set({\n        firstName: newUser.firstName,\n        lastName: newUser.lastName,\n        initials: newUser.firstName[0] + newUser.lastName[0]\n      })\n    }).then(() => {\n      dispatch({ type: 'SIGNUP_SUCESS' })\n    }).catch((err) => {\n      dispatch({type: 'SIGNUP_ERROR', err })\n    })\n  }\n}\n\nexport const recoverEmail = (email) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase()\n    const auth = firebase.auth()\n    const emailId = email.email\n\n    auth.sendPasswordResetEmail(emailId)\n    .then(() => {\n      console.log(\"link has been sent\")\n    })\n    .catch((error) => {\n      console.log(\"error\", error)\n    })\n  }\n}\n\nexport const signInWithGoogle = () => {\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firebase = getFirebase()\n\n    const provider = new firebase.auth.GoogleAuthProvider()\n\n    firebase.auth().signInWithPopup(provider).then( (result) => {\n      // const token = result.credential.accessToken;\n      // The signed-in user info.\n      const user = result.user;\n      console.log(\"google: \", user)\n      // ...\n    }).catch(function(error) {\n      // Handle Errors here.\n      const errorCode = error.code;\n      console.log(\"google errorCode: \", errorCode)\n\n      const errorMessage = error.message;\n      console.log(\"google err: \", errorMessage)\n      // The email of the user's account used.\n      const email = error.email;\n      console.log(\"google mail: \", email)\n      // The firebase.auth.AuthCredential type that was used.\n      const credential = error.credential;\n      console.log(\"google cred: \", credential)\n      // ...\n    });\n  }\n}\n\n// export const googleSignIn = () => {\n//   return(dispath, getState, { getFirebase, getFirestore}) => {\n//\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}