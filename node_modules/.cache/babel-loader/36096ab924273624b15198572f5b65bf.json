{"ast":null,"code":"import _objectSpread from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/madan/Documents/workspace/artwork/src/components/projects/AddToAlbum.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport unreal from '../../static/unreal.jpg';\nvar albums = [];\n\nvar AddToAlbum =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddToAlbum, _Component);\n\n  function AddToAlbum() {\n    var _this;\n\n    _classCallCheck(this, AddToAlbum);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddToAlbum).call(this));\n\n    _this.getAlbum = function () {\n      var db = firebase.firestore();\n      var id = _this.props.id;\n      console.log(\"id: \", _this.props);\n      return db.collection('albums').where('authorId', '==', _this.props.id).get().then(function (documentSnapShots) {\n        documentSnapShots.forEach(function (doc) {\n          var obj = _objectSpread({}, doc.data(), {\n            id: doc.id\n          });\n\n          albums.push(obj);\n\n          _this.setState(function () {\n            return {\n              albums: albums\n            };\n          }, function () {\n            console.log(\"albums: \", _this.state);\n          });\n        });\n      });\n    };\n\n    _this.switchClass = function () {\n      if (_this.state.className === 'unselect') {\n        _this.setState({\n          className: 'select',\n          select: true\n        });\n      } else {\n        _this.setState({\n          className: 'unselect',\n          select: false\n        });\n      }\n    };\n\n    _this.handleClick = function () {\n      var ref = _this.newAlbum.current;\n      var data = ref.innerText;\n      var albumName = data.replace(/\\n/g, '');\n      console.log(albumName);\n\n      _this.setState(function () {\n        return {\n          albumName: albumName\n        };\n      }, function () {\n        _this.props.onClick(_this.state.albumName);\n      });\n    };\n\n    _this.newAlbum = React.createRef();\n    _this.state = {\n      className: 'unselect'\n    };\n    return _this;\n  }\n\n  _createClass(AddToAlbum, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getAlbum();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"props: \", this.props);\n      return React.createElement(\"div\", {\n        className: \"addtoalbum\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"album_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state && this.state.albums ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: unreal,\n        alt: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \" nature \"), React.createElement(\"span\", {\n        className: \"\".concat(this.state.className),\n        onClick: this.switchClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"check\"))) : null), React.createElement(\"form\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"new_alb editable\",\n        ref: this.newAlbum,\n        contentEditable: \"true\",\n        \"data-placeholder\": \"new album...\",\n        onKeyUp: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"btn z-depth-0 green button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"check\")))));\n    }\n  }]);\n\n  return AddToAlbum;\n}(Component);\n\nexport default AddToAlbum;","map":{"version":3,"sources":["/home/madan/Documents/workspace/artwork/src/components/projects/AddToAlbum.js"],"names":["React","Component","firebase","unreal","albums","AddToAlbum","getAlbum","db","firestore","id","props","console","log","collection","where","get","then","documentSnapShots","forEach","doc","obj","data","push","setState","state","switchClass","className","select","handleClick","ref","newAlbum","current","innerText","albumName","replace","onClick","createRef"],"mappings":"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","sourcesContent":["import React , { Component } from 'react'\nimport firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport unreal from '../../static/unreal.jpg'\nconst albums = []\n\nclass AddToAlbum extends Component {\n  constructor() {\n    super()\n    this.newAlbum = React.createRef()\n    this.state={\n      className: 'unselect'\n    }\n  }\n\n  componentWillMount() {\n    this.getAlbum()\n  }\n\n  getAlbum = () => {\n    const db = firebase.firestore()\n    const { id } = this.props\n    console.log(\"id: \", this.props)\n\n    return db.collection('albums')\n      .where('authorId', '==', this.props.id)\n      .get().then(documentSnapShots => {\n        documentSnapShots.forEach(doc => {\n          let obj = {\n            ...doc.data(),\n            id: doc.id\n          }\n          albums.push(obj)\n          this.setState(() => {\n            return {\n              albums\n            }\n          }, () => {\n            console.log(\"albums: \", this.state)\n          })\n        })\n      })\n  }\n\n  switchClass = () => {\n    if(this.state.className === 'unselect') {\n      this.setState({\n        className: 'select',\n        select: true\n      })\n    } else {\n      this.setState({\n        className: 'unselect',\n        select: false\n      })\n    }\n  }\n\n  handleClick = () => {\n    const ref = this.newAlbum.current\n    const data = ref.innerText\n    const albumName = data.replace(/\\n/g, '')\n    console.log(albumName)\n\n    this.setState(() => {\n      return {\n        albumName\n      }\n    }, () => {\n      this.props.onClick(this.state.albumName)\n    })\n  }\n\n  render() {\n    console.log(\"props: \", this.props)\n    return(\n      <div className=\"addtoalbum\">\n        <div>\n          <div className=\"album_list\">\n            { this.state && this.state.albums\n              ? <div>\n                  <img src={unreal} alt=\"img\"/>\n                  <span> nature </span>\n                  <span\n                    className={`${this.state.className}`}\n                    onClick={this.switchClass}>\n                    <i className=\"material-icons\">check</i>\n                  </span>\n                </div>\n              : null }\n          </div>\n          <form className=\"form\">\n            <span\n              className=\"new_alb editable\"\n              ref={this.newAlbum}\n              contentEditable=\"true\"\n              data-placeholder=\"new album...\"\n              onKeyUp={this.handleClick}>\n              </span>\n              <span\n                className=\"btn z-depth-0 green button\">\n                <i className=\"material-icons\">check</i>\n              </span>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddToAlbum\n"]},"metadata":{},"sourceType":"module"}