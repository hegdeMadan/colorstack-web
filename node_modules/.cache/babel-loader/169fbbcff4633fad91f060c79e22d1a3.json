{"ast":null,"code":"import _objectSpread from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/madan/Documents/workspace/artwork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/madan/Documents/workspace/artwork/src/components/projects/AddToAlbum.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport unreal from '../../static/unreal.jpg';\nvar albums = [];\n\nvar AddToAlbum =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddToAlbum, _Component);\n\n  function AddToAlbum() {\n    var _this;\n\n    _classCallCheck(this, AddToAlbum);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddToAlbum).call(this));\n\n    _this.getAlbum = function () {\n      var db = firebase.firestore();\n      var id = _this.props.id;\n      console.log(\"id: \", _this.props);\n      return db.collection('albums').where('authorId', '==', id).get().then(function (documentSnapShots) {\n        documentSnapShots.forEach(function (doc) {\n          var obj = _objectSpread({}, doc.data(), {\n            id: doc.id\n          });\n\n          albums.push(obj);\n\n          _this.setState(function () {\n            return {\n              albums: albums\n            };\n          }, function () {\n            console.log(\"albums: \", _this.state);\n          });\n        });\n      });\n    };\n\n    _this.switchClass = function (name, id) {\n      if (_this.state.className === 'unselect') {\n        _this.setState({\n          className: 'select',\n          select: true,\n          album: {\n            albumName: name,\n            id: id\n          }\n        }, function () {\n          _this.props.onClick(_this.state.album);\n\n          console.log(\"from: \", _this.state);\n        });\n      } else {\n        _this.setState({\n          className: 'unselect',\n          select: false\n        });\n      }\n    };\n\n    _this.handleClick = function () {\n      var ref = _this.newAlbum.current;\n      var data = ref.innerText;\n      var albumName = data.replace(/\\n/g, '');\n      console.log(albumName);\n\n      _this.setState(function () {\n        return {\n          albumName: albumName\n        };\n      }, function () {\n        _this.props.onClick(_this.state.albumName);\n      });\n    };\n\n    _this.newAlbum = React.createRef();\n    _this.state = {\n      className: 'unselect'\n    };\n    return _this;\n  }\n\n  _createClass(AddToAlbum, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getAlbum();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"props: \", this.props);\n      return React.createElement(\"div\", {\n        className: \"addtoalbum\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state && this.state.albums ? React.createElement(\"div\", {\n        className: \"album_list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state && this.state.albums.map(function (album) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: album.photos[0],\n          alt: \"img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \" \", album.albumName, \" \"), React.createElement(\"span\", {\n          className: \"\".concat(_this2.state.className),\n          onClick: function onClick() {\n            return _this2.switchClass(album.albumName, album.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"material-icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"check\")));\n      })) : React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"red-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \" you have no albums! \"))), React.createElement(\"form\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"new_alb editable\",\n        ref: this.newAlbum,\n        contentEditable: \"true\",\n        \"data-placeholder\": \"new album...\",\n        onKeyUp: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"btn z-depth-0 green button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"check\")))));\n    }\n  }]);\n\n  return AddToAlbum;\n}(Component);\n\nexport default AddToAlbum;","map":{"version":3,"sources":["/home/madan/Documents/workspace/artwork/src/components/projects/AddToAlbum.js"],"names":["React","Component","firebase","unreal","albums","AddToAlbum","getAlbum","db","firestore","id","props","console","log","collection","where","get","then","documentSnapShots","forEach","doc","obj","data","push","setState","state","switchClass","name","className","select","album","albumName","onClick","handleClick","ref","newAlbum","current","innerText","replace","createRef","map","photos"],"mappings":"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","sourcesContent":["import React , { Component } from 'react'\nimport firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport unreal from '../../static/unreal.jpg'\nconst albums = []\n\nclass AddToAlbum extends Component {\n  constructor() {\n    super()\n    this.newAlbum = React.createRef()\n    this.state={\n      className: 'unselect'\n    }\n  }\n\n  componentWillMount() {\n    this.getAlbum()\n  }\n\n  getAlbum = () => {\n    const db = firebase.firestore()\n    const { id } = this.props\n    console.log(\"id: \", this.props)\n\n    return db.collection('albums')\n      .where('authorId', '==', id)\n      .get().then(documentSnapShots => {\n        documentSnapShots.forEach(doc => {\n          let obj = {\n            ...doc.data(),\n            id: doc.id\n          }\n          albums.push(obj)\n          this.setState(() => {\n            return {\n              albums\n            }\n          }, () => {\n            console.log(\"albums: \", this.state)\n          })\n        })\n      })\n  }\n\n  switchClass = (name, id) => {\n    if(this.state.className === 'unselect') {\n      this.setState({\n        className: 'select',\n        select: true,\n        album: {\n          albumName: name,\n          id\n        }\n      }, () => {\n        this.props.onClick(this.state.album)\n        console.log(\"from: \", this.state)\n      })\n    } else {\n      this.setState({\n        className: 'unselect',\n        select: false\n      })\n    }\n  }\n\n  handleClick = () => {\n    const ref = this.newAlbum.current\n    const data = ref.innerText\n    const albumName = data.replace(/\\n/g, '')\n    console.log(albumName)\n\n    this.setState(() => {\n      return {\n        albumName\n      }\n    }, () => {\n      this.props.onClick(this.state.albumName)\n    })\n  }\n\n  render() {\n    console.log(\"props: \", this.props)\n    return(\n      <div className=\"addtoalbum\">\n        <div>\n          { this.state && this.state.albums\n            ? <div className=\"album_list\">\n              { this.state && this.state.albums.map(album => {\n                return(\n                  <div>\n                     <img src={album.photos[0]} alt=\"img\"/>\n                     <span> {album.albumName} </span>\n                     <span\n                       className={`${this.state.className}`}\n                       onClick={() => this.switchClass(album.albumName, album.id)}>\n                       <i className=\"material-icons\">check</i>\n                     </span>\n                   </div>\n                )\n              })}\n            </div>\n            : <div className=\"center\">\n                <span className=\"red-text\">\n                  <i> you have no albums! </i>\n                </span>\n              </div>\n          }\n          <form className=\"form\">\n            <span\n              className=\"new_alb editable\"\n              ref={this.newAlbum}\n              contentEditable=\"true\"\n              data-placeholder=\"new album...\"\n              onKeyUp={this.handleClick}>\n              </span>\n              <span\n                className=\"btn z-depth-0 green button\">\n                <i className=\"material-icons\">check</i>\n              </span>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddToAlbum\n"]},"metadata":{},"sourceType":"module"}